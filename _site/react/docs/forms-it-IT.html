<p>I componenti dei moduli come <code>&lt;input&gt;</code>, <code>&lt;textarea&gt;</code> e <code>&lt;option&gt;</code> differiscono dagli altri componenti nativi poiché possono essere alterati tramite interazione dell&#39;utente. Questi componenti forniscono interfacce che rendono più semplice gestire i moduli in risposta all&#39;interazione dell&#39;utente.</p>

<p>Per maggiori informazioni sugli eventi dell&#39;elemento <code>&lt;form&gt;</code> consulta <a href="/react/docs/events.html#form-events">Eventi dei Moduli</a>.</p>
<h2><a class="anchor" name="propriet-interattive"></a>Proprietà Interattive <a class="hash-link" href="#propriet-interattive">#</a></h2>
<p>I componenti dei moduli supportano un numero di proprietà che vengono modificate dall&#39;interazione dell&#39;utente:</p>

<ul>
<li><code>value</code>, supportato dai elementi <code>&lt;input&gt;</code> e <code>&lt;textarea&gt;</code>.</li>
<li><code>checked</code>, supportato dagli elementi <code>&lt;input&gt;</code> dal tipo <code>checkbox</code> o <code>radio</code>.</li>
<li><code>selected</code>, supportato dagli elementi <code>&lt;option&gt;</code>.</li>
</ul>

<p>In HTML, in valore di <code>&lt;textarea&gt;</code> è impostato tramite un nodo di testo figlio. In React, devi invece usare la proprietà <code>value</code>.</p>

<p>I componenti dei moduli ti permettono di reagire ai cambiamenti impostando una callback come proprietà <code>onChange</code>. La proprietà <code>onChange</code> funziona in tutti i browser e viene scatenata in risposta all&#39;interazione dell&#39;utente quando:</p>

<ul>
<li>Il <code>value</code> di <code>&lt;input&gt;</code> o <code>&lt;textarea&gt;</code> cambia.</li>
<li>Lo stato <code>checked</code> di <code>&lt;input&gt;</code> cambia.</li>
<li>Lo stato <code>selected</code> di <code>&lt;option&gt;</code> cambia.</li>
</ul>

<p>Come tutti gli eventi DOM, la proprietà <code>onChange</code> è supportata su tutti i componenti nativi e può essere usata per gestire la propagazione di eventi di cambiamento.</p>

<blockquote>
<p>Nota:</p>

<p>Per <code>&lt;input&gt;</code> e <code>&lt;textarea&gt;</code>, <code>onChange</code> rimpiazza — e dovrebbe generalmente essere utilizzata in sostituzione — il gestore di eventi <a href="https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/oninput"><code>oninput</code></a> nativo del DOM.</p>
</blockquote>
<h2><a class="anchor" name="componenti-controllati"></a>Componenti Controllati <a class="hash-link" href="#componenti-controllati">#</a></h2>
<p>Un <code>&lt;input&gt;</code> il cui <code>value</code> è impostato è un componente <em>controllato</em>. In un <code>&lt;input&gt;</code> controllato, il valore dell&#39;elemento visualizzato si riflette sempre nella sua proprietà <code>value</code>. Ad esempio:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;Ciao!&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></div>
<p>Ciò visualizzerà un input che ha sempre il valore di <code>value</code> impostato a <code>Ciao!</code>. Ciascuna immissione dell&#39;utente non avrà effetto sull&#39;elemento visualizzato poiché React ha dichiarato il suo <code>value</code> pari a <code>Ciao!</code>. Se volessi aggiornare il <code>value</code> in risposta all&#39;input dell&#39;utente, puoi usare l&#39;evento <code>onChange</code>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;Ciao!&#39;</span><span class="p">};</span>
  <span class="p">},</span>
  <span class="nx">handleChange</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">});</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">value</span><span class="p">}</span> <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleChange</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></div>
<p>In questo esempio, stiamo semplicemente accettando il valore più recente fornito dall&#39;utente e aggiornando la proprietà <code>value</code> del componente <code>&lt;input&gt;</code>. Questo pattern semplifica l&#39;implementazione di interfacce che rispondono o validano l&#39;interazione dell&#39;utente. Ad esempio:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">handleChange</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">140</span><span class="p">)});</span>
  <span class="p">}</span>
</code></pre></div>
<p>Così si può accettare l&#39;input dell&#39;utente ma ne tronca il valore ai primi 140 caratteri.</p>
<h3><a class="anchor" name="potenziali-problemi-con-checkbox-e-radio-button"></a>Potenziali Problemi con Checkbox e Radio Button <a class="hash-link" href="#potenziali-problemi-con-checkbox-e-radio-button">#</a></h3>
<p>Fai attenzione che, allo scopo di normalizzare la gestione del cambiamento degli elementi checkbox e radio button, React usa un evento <code>click</code> al posto di un evento <code>change</code>. Nella maggior parte dei casi questo funziona nel modo previsto, tranne quando viene usato <code>preventDefault</code> in un gestore dell&#39;evento <code>change</code>. <code>preventDefault</code> impedisce al browser di aggiornare visualmente l&#39;input, anche se <code>checked</code> cambia il suo valore. Questo può essere evitato rimuovendo la chiamata a <code>preventDefault</code>, oppure effettuando il cambio del valore di <code>checked</code> tramite <code>setTimeout</code>.</p>
<h2><a class="anchor" name="componenti-non-controllati"></a>Componenti Non Controllati <a class="hash-link" href="#componenti-non-controllati">#</a></h2>
<p>Un <code>&lt;input&gt;</code> che non fornisce un <code>value</code> (o lo imposta a <code>null</code>) è un componente <em>non controllato</em>. In un <code>&lt;input&gt;</code> non controllato, il valore dell&#39;elemento visualizzato rifletterà l&#39;input dell&#39;utente. Ad esempio:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></div>
<p>Questo visualizzerà un campo di input il cui valore iniziale è vuoto. Ciascun input dell&#39;utente si rifletterà immediatamente nell&#39;elemento visualizzato. Se desideri reagire ai cambiamenti del valore, puoi usare il gestore di eventi <code>onChange</code> proprio come con i componenti controllati.</p>
<h3><a class="anchor" name="valore-predefinito"></a>Valore Predefinito <a class="hash-link" href="#valore-predefinito">#</a></h3>
<p>Se desideri inizializzare il componente con un valore non vuoto, puoi fornire una proprietà <code>defaultValue</code>. Ad esempio:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">defaultValue</span><span class="o">=</span><span class="s2">&quot;Ciao!&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></div>
<p>Questo esempio funzionerà in maniera simile all&#39;esempio precedente sui <strong>Componenti Controllati</strong>.</p>

<p>Similmente, <code>&lt;input&gt;</code> supporta <code>defaultChecked</code> e <code>&lt;select&gt;</code> supporta <code>defaultValue</code>.</p>

<blockquote>
<p>Nota:</p>

<p>Le proprietà <code>defaultValue</code> e <code>defaultChecked</code> sono usate soltanto durante il rendering iniziale. Se devi aggiornare il valore in un rendering successivo, dovrai usare un <a href="#controlled-components">componente controllato</a>.</p>
</blockquote>
<h2><a class="anchor" name="argomenti-avanzati"></a>Argomenti Avanzati <a class="hash-link" href="#argomenti-avanzati">#</a></h2><h3><a class="anchor" name="perch-componenti-controllati"></a>Perché Componenti Controllati? <a class="hash-link" href="#perch-componenti-controllati">#</a></h3>
<p>Usare componenti di moduli come <code>&lt;input&gt;</code> in React presenta una difficoltà aggiuntiva, assente quando si scrive un modulo tradizionale in HTML. Ad esempio, in HTML:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;title&quot;</span> <span class="na">value=</span><span class="s">&quot;Senza titolo&quot;</span> <span class="nt">/&gt;</span>
</code></pre></div>
<p>Questo visualizza un campo di input <em>inizializzato</em> con il valore <code>Senza titolo</code>. Quando l&#39;utente modifica il campo, la <em>proprietà</em> <code>value</code> del nodo cambierà. Tuttavia, <code>node.getAttribute(&#39;value&#39;)</code> restituirà ancora il valore usato durante l&#39;inizializzazione, <code>Senza titolo</code>.</p>

<p>Diversamente dall&#39;HTML, i componenti React devono rappresentare lo stato della vista in ciascun momento e non soltanto durante l&#39;inizializzazione. Ad esempio, in React:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;title&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;Senza titolo&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></div>
<p>Dal momento che questo metodo descrive la vista in ogni momento, il valore del campo di testo deve <em>sempre</em> essere <code>Senza titolo</code>.</p>
<h3><a class="anchor" name="perch-il-valore-della-textarea"></a>Perché il Valore della Textarea? <a class="hash-link" href="#perch-il-valore-della-textarea">#</a></h3>
<p>In HTML, il valore di <code>&lt;textarea&gt;</code> è solitamente impostato usando un nodo di testo figlio:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html">  <span class="c">&lt;!-- antipattern: NON FARLO! --&gt;</span>
  <span class="nt">&lt;textarea</span> <span class="na">name=</span><span class="s">&quot;description&quot;</span><span class="nt">&gt;</span>Questa è la descrizione.<span class="nt">&lt;/textarea&gt;</span>
</code></pre></div>
<p>Per l&#39;HTML, questo approccio permette agli sviluppatori di fornire facilmente valori su più righe. Tuttavia, dal momento che React è JavaScript, non abbiamo limitazioni sulle stringhe e possiamo usare <code>\n</code> se desideriamo andare a capo. In un mondo in cui abbiamo <code>value</code> e <code>defaultValue</code>, il ruolo giocato dal nodo figlio è ambiguo. Per questa ragione, non dovresti utilizzare il nodo figlio quando imposti il valore delle <code>&lt;textarea&gt;</code>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="o">&lt;</span><span class="nx">textarea</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;description&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;Questa è la descrizione.&quot;</span> <span class="o">/&gt;</span>
</code></pre></div>
<p>Se tuttavia decidi di <em>usare</em> il nodo di testo figlio, questo si comporterà come <code>defaultValue</code>.</p>
<h3><a class="anchor" name="perch-il-value-di-select"></a>Perché il Value di Select? <a class="hash-link" href="#perch-il-value-di-select">#</a></h3>
<p>L&#39;elemento <code>&lt;option&gt;</code> selezionato in un elemento HTML <code>&lt;select&gt;</code> è normalmente specificato attraverso l&#39;attributo <code>selected</code> dell&#39;opzione stessa. In React, allo scopo di rendere i componenti più semplici da manipolare, viene invece adottato il formato seguente:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="o">&lt;</span><span class="nx">select</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;B&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;A&quot;</span><span class="o">&gt;</span><span class="nx">Arancia</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
    <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;B&quot;</span><span class="o">&gt;</span><span class="nx">Banana</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
    <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;C&quot;</span><span class="o">&gt;</span><span class="nx">Ciliegia</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
  <span class="o">&lt;</span><span class="err">/select&gt;</span>
</code></pre></div>
<p>Per creare un componente non controllato, viene invece usato <code>defaultValue</code>.</p>

<blockquote>
<p>Nota:</p>

<p>Puoi passare un array come valore dell&#39;attributo <code>value</code>, se desideri selezionare più opzioni in un tag <code>select</code> a scelta multipla: <code>&lt;select multiple={true} value={[&#39;B&#39;, &#39;C&#39;]}&gt;</code>.</p>
</blockquote>
