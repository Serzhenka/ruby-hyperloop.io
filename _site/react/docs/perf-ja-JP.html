<p>Reactは普通、従来の枠を超えてとても速いです。しかし、アプリケーションにおいて、少しでもパフォーマンスを上げようという状況では、Reactの差分を取るアルゴリズムを最大限活用するヒントが得られる、<a href="/react/docs/component-specs-ja-JP.html#updating-shouldcomponentupdate">shouldComponentUpdate</a>のフックを提供します。</p>

<p>アプリケーション全体のパフォーマンスについての要約を得ることに加えて、ReactPerfはそれらのフックを実際にはどこに配置する必要があるか教えてくれるプロファイリングツールでもあります。</p>

<blockquote>
<p>注意:
Reactの開発版のビルドは与えられた外部ロジックのためにプロダクション版のビルドよりも遅くなります。例えば、Reactのフレンドリーコンソールの警告（プロダクション版のビルドにおいては警告が出ません）のように。それゆえ、プロファイラは <em>比較的</em> コストがかかっている箇所のみを指し示します。</p>
</blockquote>
<h2><a class="anchor" name="api"></a>一般的なAPI <a class="hash-link" href="#api">#</a></h2>
<p>ここに記述されている <code>Perf</code> オブジェクトは <code>react-with-addons.js</code> を開発版でビルドしたものを使用する際に <code>React.addons.Perf</code> として表されます。</p>
<h3><a class="anchor" name="perf.start--perf.stop"></a><code>Perf.start()</code> と <code>Perf.stop()</code> <a class="hash-link" href="#perf.start--perf.stop">#</a></h3>
<p>測定の開始/終了です。その間のReactの操作は以下のような分析のために記録されます。あまり時間を使わない操作は無視されます。</p>

<p>停止した後、あなたは、測定結果を得るために <code>Perf.getLastMeasurements()</code> （後述）が必要になります。</p>
<h3><a class="anchor" name="perf.printinclusivemeasurements"></a><code>Perf.printInclusive(measurements)</code> <a class="hash-link" href="#perf.printinclusivemeasurements">#</a></h3>
<p>かかった全ての時間を出力します。引数が渡されなかった場合は、デフォルトで最後の測定から全ての測定が行われます。これは以下のように、コンソールに綺麗にフォーマットされたテーブルを出力します。</p>

<p><img src="/react/img/docs/perf-inclusive.png" alt=""></p>
<h3><a class="anchor" name="perf.printexclusivemeasurements"></a><code>Perf.printExclusive(measurements)</code> <a class="hash-link" href="#perf.printexclusivemeasurements">#</a></h3>
<p>「占有」時間はコンポーネントをマウントするのにかかった時間を含みません。プロパティの処理、 <code>getInitialState</code> , <code>componentWillMount</code> や <code>componentDidMount</code> の呼び出しなどは含みます。</p>

<p><img src="/react/img/docs/perf-exclusive.png" alt=""></p>
<h3><a class="anchor" name="perf.printwastedmeasurements"></a><code>Perf.printWasted(measurements)</code> <a class="hash-link" href="#perf.printwastedmeasurements">#</a></h3>
<p><strong>プロファイラの最も有用な箇所です</strong>。</p>

<p>「無駄な」時間はコンポーネントが実際には何もレンダリングしていないのにかかっている時間です。例えば、同じものをレンダリングしたので、DOMが触られなかったような場合です。</p>

<p><img src="/react/img/docs/perf-wasted.png" alt=""></p>
<h3><a class="anchor" name="perf.printdommeasurements"></a><code>Perf.printDOM(measurements)</code> <a class="hash-link" href="#perf.printdommeasurements">#</a></h3>
<p>以下のような、DOMの操作を出力します。例えば、&quot;set innerHTML&quot;や&quot;remove&quot;といったものです。</p>

<p><img src="/react/img/docs/perf-dom.png" alt=""></p>
<h2><a class="anchor" name="api"></a>先進的なAPI <a class="hash-link" href="#api">#</a></h2>
<p>上記の出力メソッドは結果をプリティプリントするのに <code>Perf.getLastMeasurements()</code> を使用しています。</p>
<h3><a class="anchor" name="perf.getlastmeasurements"></a><code>Perf.getLastMeasurements()</code> <a class="hash-link" href="#perf.getlastmeasurements">#</a></h3>
<p>最後の開始と終了のセッションから測定の配列を取得します。配列は以下のようなオブジェクトを含みます。</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="p">{</span>
  <span class="c1">// &quot;inclusive&quot;と&quot;exclusive&quot;の期間は以下で説明されています</span>
  <span class="s2">&quot;exclusive&quot;</span><span class="o">:</span> <span class="p">{},</span>
  <span class="c1">// &#39;.0.0&#39; はノードのReact ID</span>
  <span class="s2">&quot;inclusive&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;.0.0&quot;</span><span class="o">:</span> <span class="mf">0.0670000008540228</span><span class="p">,</span> <span class="s2">&quot;.0&quot;</span><span class="o">:</span> <span class="mf">0.3259999939473346</span><span class="p">},</span>
  <span class="s2">&quot;render&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;.0&quot;</span><span class="o">:</span> <span class="mf">0.036999990697950125</span><span class="p">,</span> <span class="s2">&quot;.0.0&quot;</span><span class="o">:</span> <span class="mf">0.010000003385357559</span><span class="p">},</span>
  <span class="c1">// インスタンスの数</span>
  <span class="s2">&quot;counts&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;.0&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;.0.0&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">},</span>
  <span class="c1">// 触ったDOM</span>
  <span class="s2">&quot;writes&quot;</span><span class="o">:</span> <span class="p">{},</span>
  <span class="c1">// 追加のデバッグ情報</span>
  <span class="s2">&quot;displayNames&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;.0&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;current&quot;</span><span class="o">:</span> <span class="s2">&quot;App&quot;</span><span class="p">,</span> <span class="s2">&quot;owner&quot;</span><span class="o">:</span> <span class="s2">&quot;&lt;root&gt;&quot;</span><span class="p">},</span>
    <span class="s2">&quot;.0.0&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;current&quot;</span><span class="o">:</span> <span class="s2">&quot;Box&quot;</span><span class="p">,</span> <span class="s2">&quot;owner&quot;</span><span class="o">:</span> <span class="s2">&quot;App&quot;</span><span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;totalTime&quot;</span><span class="o">:</span> <span class="mf">0.48499999684281647</span>
<span class="p">}</span>
</code></pre></div>