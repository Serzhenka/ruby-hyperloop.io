<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="google-site-verification" content="qjqVOvRhHfsuDbLOvaAnj2mkUZJ9Xwzg84TMVXduvUc" />

    <meta charset="UTF-8">
    <title>Hyperloop</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

    <link href="/stylesheets/base.css" rel="stylesheet" />
    <link href="/stylesheets/normalize.css" rel="stylesheet" />
    <link href="/stylesheets/stylesheet.css" rel="stylesheet" />
    <link href="/stylesheets/github-light.css" rel="stylesheet" />

    <title>Reactrb</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/images/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/images/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

  </head>

  <body>
      <section class="page-header">
        <img src="/images/hyperloop_white.svg" width="200" alt="Hyperloop white" />
        <h1 class="project-name">
          <a href="/" class="btn-logo">Hyperloop</a>
        </h1>
        <h2 class="project-tagline">THE MISSING RUBY FRONT-END LIBRARY</h2>
        <a href="/get_started" class="btn">Get Started</a>
        <a href="/tutorials/chat_app" class="btn">Tutorials</a>
        <a href="/installation" class="btn">Installation</a>
        <a href="/gems" class="btn">Gems</a>
        <a href="https://github.com/reactrb" class="btn">Github</a>
        <a href="/tools" class="btn">Tooling</a>
        <a href="/docs/dsl_overview" class="btn">Docs</a>
        <a href="/support" class="btn">Support</a>
        <a href="/blog" class="btn">Blog</a>
      </section>

      <section class="main-nav">
          <a href="/tutorials/chat_app">Chat-App Tutorial</a></br>
  <a href="/tutorials/rails">Reactrb and Rails</a></br>
  <a href="/tutorials/react_components">React components</a></br>
  <a href="/tutorials/reactive_record">Reactive Record</a></br>
  <a href="/tutorials/synchromesh">Synchromesh</a></br>

      </section>

      <section class="main-content">
        <h2 id="reactrb-and-rails">Reactrb and Rails</h2>

<p>It is very simple to get started with Reactrb and Rails.</p>

<p><a href="https://github.com/barriehadfield/reactrb-showcase">The source code to this tutorial is here</a></p>

<h3 id="step-1-creating-a-new-rails-application">Step 1: Creating a new Rails application</h3>
<pre class="highlight plaintext"><code>rails new reactrb-showcase
cd reactrb-showcase
bundle install
</code></pre>
<p>You should have a empty Rails application</p>
<pre class="highlight plaintext"><code>bundle exec rails s
</code></pre>
<p>And in your browser</p>
<pre class="highlight plaintext"><code>http://localhost:3000/
</code></pre>
<p>You should be seeing the Rails Welcome aboard page. Great, Rails is now installed. Lets get started with the interesting stuff.</p>

<h3 id="step-2-adding-reactrb">Step 2: Adding Reactrb</h3>

<p><a href="https://github.com/loicboutet/reactive-rails-generator">We will use the Reactrb Rails Generator Gem</a></p>

<p>In your <code>Gemfile</code> under the development group add</p>
<pre class="highlight plaintext"><code>gem "reactrb-rails-generator"
</code></pre>
<p>then</p>
<pre class="highlight plaintext"><code>bundle install
bundle exec rails g reactrb:install --all
bundle update
</code></pre>
<p>At this stage Reactrb is installed but we don&rsquo;t have any components yet. Lets create one via the generator:</p>
<pre class="highlight plaintext"><code>rails g reactrb:component Home::Show
</code></pre>
<p>This will add a new Component at app/views/components/home/show.rb</p>
<pre class="highlight ruby"><code><span class="k">module</span> <span class="nn">Components</span>
  <span class="k">module</span> <span class="nn">Home</span>
    <span class="k">class</span> <span class="nc">Show</span> <span class="o">&lt;</span> <span class="no">React</span><span class="o">::</span><span class="no">Component</span><span class="o">::</span><span class="no">Base</span>

      <span class="c1"># param :my_param</span>
      <span class="c1"># param param_with_default: "default value"</span>
      <span class="c1"># param :param_with_default2, default: "default value" # alternative syntax</span>
      <span class="c1"># param :param_with_type, type: Hash</span>
      <span class="c1"># param :array_of_hashes, type: [Hash]</span>
      <span class="c1"># collect_all_other_params_as :attributes  #collects all other params into a hash</span>

      <span class="c1"># The following are the most common lifecycle call backs,</span>
      <span class="c1"># the following are the most common lifecycle call backs</span>
            <span class="c1"># delete any that you are not using.</span>
      <span class="c1"># call backs may also reference an instance method i.e. before_mount :my_method</span>

      <span class="n">before_mount</span> <span class="k">do</span>
        <span class="c1"># any initialization particularly of state variables goes here.</span>
        <span class="c1"># this will execute on server (prerendering) and client.</span>
      <span class="k">end</span>

      <span class="n">after_mount</span> <span class="k">do</span>
        <span class="c1"># any client only post rendering initialization goes here.</span>
        <span class="c1"># i.e. start timers, HTTP requests, and low level jquery operations etc.</span>
      <span class="k">end</span>

      <span class="n">before_update</span> <span class="k">do</span>
        <span class="c1"># called whenever a component will be re-rerendered</span>
      <span class="k">end</span>

      <span class="n">before_unmount</span> <span class="k">do</span>
        <span class="c1"># cleanup any thing (i.e. timers) before component is destroyed</span>
      <span class="k">end</span>

      <span class="k">def</span> <span class="nf">render</span>
        <span class="n">div</span> <span class="k">do</span>
          <span class="s2">"Home::Show"</span>
        <span class="k">end</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<p>Have a look at this component as the generator creates a boilerplate component and instructions for using the most common Reactrb macros. Note that Reactrb components normally inherit from class <code>React::Component::Base</code> but you are free to <code>include React::Component</code> instead if you need your component to inherit from some other class.</p>

<p>Also note how <code>params</code> are declared and how <code>before_mount</code> macros (and friends) macros are used. Finally note that every component must have one <code>render</code> method which must return just one DOM <code>element</code> which in this example case is a <code>div</code>.</p>

<p>Next let&rsquo;s get this simple component rendering on a page. For that we will need a rails controller and a route.</p>
<pre class="highlight plaintext"><code>rails g controller home
</code></pre>
<p>And add a route to your <code>routes.rb</code></p>
<pre class="highlight plaintext"><code>root 'home#show'
</code></pre>
<p>And a <code>show</code> method in the HomeController which will render the component using the <code>render_component</code> helper.</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">HomeController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
    <span class="k">def</span> <span class="nf">show</span>
        <span class="n">render_component</span>
    <span class="k">end</span>
<span class="k">end</span>
</code></pre>
<p>Fire up the server with <code>bundle exec rails s</code>, refresh your browser and if all has gone well, you should be rewarded with <code>Home::Show</code> in your browser.</p>

      </section>


  </body>
</html>
